{% extends "base.html" %}

{% block title %}FAQ - Häufig gestellte Fragen{% endblock %}

{% block meta_description %}Häufig gestellte Fragen zu Mandari: Open Source RIS, OParl-Standard, Datenschutz, Self-Hosting und mehr.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="py-16 lg:py-24 bg-gradient-to-br from-primary-50 to-white dark:from-gray-800 dark:to-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300 text-sm font-medium mb-6">
            <i data-lucide="help-circle" class="w-4 h-4"></i>
            Hilfe & Support
        </span>
        <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6">
            Häufig gestellte Fragen
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
            Antworten auf die wichtigsten Fragen rund um Mandari, OParl und Open Government.
        </p>
    </div>
</section>

<!-- FAQ Categories -->
<section class="py-16 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Allgemein -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                <i data-lucide="info" class="w-6 h-6 text-primary-500"></i>
                Allgemein
            </h2>

            <div class="space-y-4" x-data="{ open: null }">
                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'a1' ? null : 'a1'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Was ist Mandari?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'a1' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'a1'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            Mandari ist eine Open Source Plattform für Ratsinformationssysteme (RIS).
                            Sie macht kommunalpolitische Entscheidungen für Bürger*innen zugänglich und
                            bietet Fraktionen professionelle Tools zur Sitzungsvorbereitung.
                            Die Plattform besteht aus drei Modulen: Insight (Bürger-Portal), Work (Fraktions-Tool)
                            und Session (Verwaltungs-Modul, in Entwicklung).
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'a2' ? null : 'a2'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Was ist OParl?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'a2' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'a2'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300 mb-3">
                            OParl ist ein offener Standard für den Zugriff auf Ratsinformationssysteme.
                            Er wurde entwickelt, um Transparenz zu fördern und ermöglicht es Anwendungen,
                            Daten aus verschiedenen RIS einheitlich zu verarbeiten.
                        </p>
                        <a href="https://oparl.org" target="_blank" rel="noopener noreferrer"
                           class="inline-flex items-center gap-1 text-primary-600 dark:text-primary-400 text-sm hover:underline">
                            Mehr auf oparl.org
                            <i data-lucide="external-link" class="w-3 h-3"></i>
                        </a>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'a3' ? null : 'a3'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Ist Mandari wirklich kostenlos?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'a3' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'a3'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            <strong>Mandari Insight</strong> (das Bürger-Portal) ist und bleibt komplett kostenlos.
                            <strong>Mandari Work</strong> (für Fraktionen) kostet 29,90 EUR/Monat in der Beta-Phase.
                            Alle Module können selbst gehostet werden (Open Source unter AGPL-3.0).
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'a4' ? null : 'a4'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Welche Städte werden unterstützt?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'a4' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'a4'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            Grundsätzlich alle Kommunen, die eine OParl-Schnittstelle anbieten.
                            Das sind aktuell über 100 Städte und Gemeinden in Deutschland.
                            Wenn Ihre Kommune noch nicht dabei ist, können Sie bei Ihrer Verwaltung
                            nach OParl fragen.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technik -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                <i data-lucide="code" class="w-6 h-6 text-primary-500"></i>
                Technik & Self-Hosting
            </h2>

            <div class="space-y-4" x-data="{ open: null }">
                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 't1' ? null : 't1'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Welche Technologien nutzt Mandari?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 't1' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 't1'" x-collapse class="px-6 pb-4">
                        <ul class="text-gray-600 dark:text-gray-300 space-y-2">
                            <li class="flex items-start gap-2">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-1"></i>
                                <span><strong>Backend:</strong> Django 6.0, PostgreSQL, Meilisearch</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-1"></i>
                                <span><strong>Frontend:</strong> Django Templates, TailwindCSS, HTMX, Alpine.js</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-1"></i>
                                <span><strong>KI:</strong> Groq API (optional)</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-1"></i>
                                <span><strong>Deployment:</strong> Docker, Docker Compose</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 't2' ? null : 't2'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Kann ich Mandari selbst hosten?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 't2' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 't2'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300 mb-3">
                            Ja! Mandari ist vollständig Open Source (AGPL-3.0).
                            Sie können die gesamte Plattform auf eigenen Servern betreiben.
                            Wir stellen Docker-Images und eine ausführliche Dokumentation bereit.
                        </p>
                        <a href="https://github.com/mandari/mandari" target="_blank" rel="noopener noreferrer"
                           class="inline-flex items-center gap-1 text-primary-600 dark:text-primary-400 text-sm hover:underline">
                            Zur GitHub-Dokumentation
                            <i data-lucide="external-link" class="w-3 h-3"></i>
                        </a>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 't3' ? null : 't3'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Was sind die Systemanforderungen?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 't3' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 't3'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300 mb-3">Empfohlene Mindestanforderungen für Self-Hosting:</p>
                        <ul class="text-gray-600 dark:text-gray-300 space-y-1 text-sm">
                            <li>2 CPU-Kerne</li>
                            <li>4 GB RAM</li>
                            <li>20 GB SSD (abhängig von Datenmenge)</li>
                            <li>Docker & Docker Compose</li>
                            <li>Linux-Server (Ubuntu empfohlen)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Datenschutz -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                <i data-lucide="shield" class="w-6 h-6 text-primary-500"></i>
                Datenschutz & Sicherheit
            </h2>

            <div class="space-y-4" x-data="{ open: null }">
                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'd1' ? null : 'd1'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Wo werden meine Daten gespeichert?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'd1' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'd1'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            Bei unserem Managed Service werden alle Daten ausschließlich in Deutschland gespeichert.
                            Wir verwenden Server in deutschen Rechenzentren und halten uns strikt an die DSGVO.
                            Bei Self-Hosting haben Sie die volle Kontrolle über den Speicherort.
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'd2' ? null : 'd2'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Nutzt Mandari Tracker oder Analytics?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'd2' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'd2'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            Nein. Mandari verwendet keine externen Tracking-Dienste wie Google Analytics.
                            Wir sammeln nur die technisch notwendigen Daten (Session-Cookies).
                            Der KI-Assistent erfordert eine explizite Einwilligung.
                        </p>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 'd3' ? null : 'd3'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Ist der KI-Assistent DSGVO-konform?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 'd3' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 'd3'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300">
                            Der KI-Assistent ist optional und erfordert eine ausdrückliche Einwilligung vor der Nutzung.
                            Wir nutzen Groq als KI-Provider mit Servern in den USA.
                            Bei Bedenken kann der KI-Assistent deaktiviert werden.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Support -->
        <div class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                <i data-lucide="headphones" class="w-6 h-6 text-primary-500"></i>
                Support & Kontakt
            </h2>

            <div class="space-y-4" x-data="{ open: null }">
                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 's1' ? null : 's1'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Wie erhalte ich Support?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 's1' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 's1'" x-collapse class="px-6 pb-4">
                        <ul class="text-gray-600 dark:text-gray-300 space-y-2">
                            <li class="flex items-start gap-2">
                                <i data-lucide="github" class="w-4 h-4 text-gray-500 mt-1"></i>
                                <span><strong>Community:</strong> GitHub Issues und Discussions</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="mail" class="w-4 h-4 text-gray-500 mt-1"></i>
                                <span><strong>E-Mail:</strong> Über unser Kontaktformular</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="star" class="w-4 h-4 text-amber-500 mt-1"></i>
                                <span><strong>Prioritäts-Support:</strong> Für Mandari Work Kunden</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                    <button @click="open = open === 's2' ? null : 's2'"
                            class="w-full px-6 py-4 flex items-center justify-between text-left">
                        <span class="font-medium text-gray-900 dark:text-white">Kann ich einen Feature Request stellen?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform" :class="open === 's2' ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="open === 's2'" x-collapse class="px-6 pb-4">
                        <p class="text-gray-600 dark:text-gray-300 mb-3">
                            Unbedingt! Wir freuen uns über Feature Requests. Nutzen Sie dafür:
                        </p>
                        <ul class="text-gray-600 dark:text-gray-300 space-y-1 text-sm">
                            <li>GitHub Issues (mit Label "enhancement")</li>
                            <li>GitHub Discussions</li>
                            <li>Unser Kontaktformular</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Still have questions -->
<section class="py-16 bg-gray-50 dark:bg-gray-800/50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            Noch Fragen?
        </h2>
        <p class="text-gray-600 dark:text-gray-300 mb-8">
            Wenn Ihre Frage hier nicht beantwortet wurde, kontaktieren Sie uns gerne direkt.
        </p>
        <a href="{% url 'insight_core:kontakt' %}"
           class="inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-xl transition-colors">
            <i data-lucide="mail" class="w-5 h-5"></i>
            Kontakt aufnehmen
        </a>
    </div>
</section>
{% endblock %}
