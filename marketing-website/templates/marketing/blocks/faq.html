{% load wagtailcore_tags %}
<section class="py-16 lg:py-24">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        {% if value.title %}
        <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white text-center mb-12">{{ value.title }}</h2>
        {% endif %}

        <div class="space-y-4" x-data="{ openItem: null }">
            {% for item in value.items %}
            <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
                <button @click="openItem = openItem === {{ forloop.counter }} ? null : {{ forloop.counter }}"
                        class="w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"
                        :aria-expanded="openItem === {{ forloop.counter }}">
                    <span class="font-semibold text-gray-900 dark:text-white pr-4">{{ item.value.question }}</span>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-gray-400 shrink-0 transition-transform"
                       :class="openItem === {{ forloop.counter }} ? 'rotate-180' : ''" aria-hidden="true"></i>
                </button>
                <div x-show="openItem === {{ forloop.counter }}"
                     x-transition:enter="transition ease-out duration-200"
                     x-transition:enter-start="opacity-0 -translate-y-2"
                     x-transition:enter-end="opacity-100 translate-y-0"
                     x-transition:leave="transition ease-in duration-100"
                     class="px-6 pb-6" x-cloak>
                    <div class="text-gray-600 dark:text-gray-300 prose dark:prose-invert max-w-none">
                        {{ item.value.answer }}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
